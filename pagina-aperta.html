<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style-pagine/pagina-aperta.css">
    <link  id="favicon" rel="shortcut icon" href="" type="image/x-icon">
    <link rel="stylesheet" href="../style-pagine/footer.css">
    <title id="title">Luogo</title>
</head>
<body>
    <!--PAGINA PER I LUOGHI DORMIRE-->
    <div id="pagina-per-i-luoghi">
        <div class="pubblicita-p-a" id="pubblicita-p-a-1"></div>
        <div class="pubblicita-p-a" id="pubblicita-p-a-2"></div>

        <div id="main-p-a">
            <div id="nome-p-a" class="lv-1-p-a">
                <h1 id="nome-p-a-js">Nome</h1>
            </div>
            <div id="chiudi-p-a" class="lv-1-p-a">
                <a id='link-torna-indietro' href="./index.html">
                    <h4 id="chiudi-p-a-hover">Chiudi</h4>
                    <svg id="chiudi-p-a-svg-hover"xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="#e60000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><line x1="200" y1="56" x2="56" y2="200" fill="none" stroke="#e60000" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></line><line x1="200" y1="200" x2="56" y2="56" fill="none" stroke="#e60000" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></line></svg>
                </a>
            </div>
            <div id="mappa-p-a" class="lv-2-p-a">
                <iframe id="mappa-src" class="mappa-js-edit" src="" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>',
            </div>

            <div id="descrizione-p-a" class="lv-3-p-a">
                <div>
                    <h1>Descrizione</h1>
                    <p id="descrizione-p-a-js">Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus eveniet suscipit, necessitatibus recusandae explicabo voluptatem rerum fuga unde consectetur sunt, ea optio, enim doloribus alias tempora eius magnam sequi dolorum.</p>    
                </div>
            </div>
            

            <div id="contatti-p-a" class="lv-4-p-a">
                <div>
                    <h1>Contatti</h1>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M92.5,124.8a83.6,83.6,0,0,0,39,38.9,8,8,0,0,0,7.9-.6l25-16.7a7.9,7.9,0,0,1,7.6-.7l46.8,20.1a7.9,7.9,0,0,1,4.8,8.3A48,48,0,0,1,176,216,136,136,0,0,1,40,80,48,48,0,0,1,81.9,32.4a7.9,7.9,0,0,1,8.3,4.8l20.1,46.9a8,8,0,0,1-.6,7.5L93,117A8,8,0,0,0,92.5,124.8Z" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg><a target="_blank" id="contatti-p-a-tel-js"href="tel:"></a></p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><polyline points="224 56 128 144 32 56" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline></svg> <a target="_blank" id="contatti-p-a-mail-js" href="malito:"></a></p>
                    <p id="contatti-link-style"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><circle cx="128" cy="128" r="96" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></circle><line x1="37.5" y1="96" x2="218.5" y2="96" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line><line x1="37.5" y1="160" x2="218.5" y2="160" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line><ellipse cx="128" cy="128" rx="40" ry="93.4" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></ellipse></svg> <a id="contatti-p-a-web-js" href="" target="_blank" rel="noreferrer noopener nofollow">Sito Web</a></p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#383838" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><circle cx="128" cy="104" r="32" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></circle><path d="M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg><a target="_blank" href="" id="contatti-p-a-google-maps-js">Google Maps</a></p>
                    <p id="contatti-booking-style"><a target="_blank" href="" id="contatti-p-a-booking-js">Vai su&nbsp&nbsp&nbsp<img  src="../img/booking.png" width="130px" alt="booking"></a></p>
                </div>
            </div>

            <div id="foto-p-a">
            </div>


            <footer class="footer">
                <div class="footer-pagine footer-dimesioni">
                    <h1>Tutte le pagine</h1>
                    <div>
                        <a href="../index.html">Home</a>
                        <a href="../capo-comino/index.html">Capo Comino - S'ena E Sa Chitta</a>
                        <a href="../la-caletta/index.html">La caletta</a>
                        <a href="../santa-lucia/index.html">Santa Lucia</a>
                        <a href="../sa-petra-ruja/index.html">Sa Petra Ruja</a>
                    </div>
                </div>
                <div class="footer-info footer-dimesioni">
                    <h1>About</h1>
                    <div>
                        <a href="">Contatti</a>
                        <a href="">Privacy Police</a>
                    </div>
                </div>
                <div class="copyrite footer-dimesioni"><span>Copyright &copy; 2022 All Rights Reserved by Luca Mutzette</span></div>
            </footer>
        

            
        </div>
    </div>

    <script>
        /*-----------------------DEFINIZIONI DOM-------------------------------*/
        let nome = document.getElementById('nome-p-a-js');
        let descrizione = document.getElementById('descrizione-p-a-js');
        let tel = document.getElementById('contatti-p-a-tel-js');
        let mail = document.getElementById('contatti-p-a-mail-js');
        let web = document.getElementById('contatti-p-a-web-js');
        let linkgooglemaps = document.getElementById('contatti-p-a-google-maps-js');
        let linkbooking = document.getElementById('contatti-p-a-booking-js');
        let mappa = document.getElementById('mappa-src');
        let mappaDiv = document.getElementById('mappa-p-a');
        let immagini = document.getElementById('foto-p-a');
        let titoloPagina = document.getElementById('title');

        let favicon = document.getElementById('favicon');

        let contattiLinkStyle = document.getElementById('contatti-link-style');
        let contattiBookingStyle = document.getElementById('contatti-booking-style');
        /*--------------------------------------------------------------*/
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        let esp = urlParams.get('esp');
        let value = urlParams.get('value');
        let type = urlParams.get('type');
        let back = urlParams.get('back');
        let tornaIndietro = document.getElementById('link-torna-indietro');
        if(esp=="n"){
            let requestURL = './dormire.json';
            let request = new XMLHttpRequest();
            request.open('GET' ,requestURL);
            request.responseType = 'json';
            request.send();
            request.onload = function(){
                let pagineDormire = request.response;
                if(type=="a"){
                    tornaIndietro.href = "./pagina.html?tipo=dormire"
                    if(back=="capo-comino"){
                       tornaIndietro.href = "../capo-comino/pagina.html?tipo=dormire"
                    }
                    if(back=="la-caletta"){
                       tornaIndietro.href = "../la-caletta/pagina.html?tipo=dormire"
                    }
                    if(back=="sa-petra-ruja"){
                       tornaIndietro.href = "../sa-petra-ruja/pagina.html?tipo=dormire"
                    }
                    if(back=="santa-lucia"){
                       tornaIndietro.href = "../santa-lucia/pagina.html?tipo=dormire"
                    }
                }
                value = value - 1;
                nome.innerHTML = pagineDormire[value].nome;
                titoloPagina.innerHTML = pagineDormire[value].nome;
                descrizione.innerHTML = pagineDormire[value].descrizione;
                tel.innerHTML = pagineDormire[value].contatti.telefono;
                tel.href = "tel:"+pagineDormire[value].contatti.telefono;
                mail.innerHTML = pagineDormire[value].contatti.mail;
                mail.href = "mailto:"+pagineDormire[value].contatti.mail;
                mappa.src = pagineDormire[value].mappa;
                linkgooglemaps.href = pagineDormire[value].contatti.googleMapsLink;
                if(pagineDormire[value].contatti.web==""){
                    contattiLinkStyle.style.display="none"
                }
                else{
                    web.href = "http://"+pagineDormire[value].contatti.web;
                }
                /*------------------------------------------------------*/
                if(pagineDormire[value].contatti.bookingLink==""){
                    contattiBookingStyle.style.display = "none";
                }
                else{
                    linkbooking.href = pagineDormire[value].contatti.bookingLink;
                }
                /*------------------------------------------------------*/
                if(pagineDormire[value].immagini[0]==""){
                    immagini.innerHTML = "";
                }
                else{
                    for (let i = 0; i < pagineDormire[value].immagini.length; i++) {
                        immagini.innerHTML += "<div class='foto-p-a-edit'><img  src="+pagineDormire[value].immagini[i]+"></div>"
                        
                    }
                }
            
            }

            favicon.href = './dormire/bed.ico'

        }

        if(esp=="s"){
            let requestURL = './esperienze.json';
            let request = new XMLHttpRequest();
            request.open('GET' ,requestURL);
            request.responseType = 'json';
            request.send();
            request.onload = function(){
                let pagineEsperienze = request.response;
                value = value-1;
                document.getElementById('mappa-p-a').style.width = "100%";
                document.getElementById('mappa-p-a').style.minHeight = "100vh";
                document.getElementById('contatti-p-a').style.display = "none";
                nome.innerHTML = pagineEsperienze[value].nome;
                titoloPagina.innerHTML = pagineEsperienze[value].nome;
                descrizione.innerHTML = pagineEsperienze[value].descrizione;
                mappaDiv.innerHTML = pagineEsperienze[value].mappa;
                if(pagineEsperienze[value].descrizione==0){
                    document.getElementById('descrizione-p-a').style.display = "none";
                }
            }

            favicon.href = './esperienze/bicycle.ico'
        }
    </script>
</body>
</html>